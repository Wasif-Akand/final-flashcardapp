<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>MonoFlash - Quick Tests</title>
  <style>body{font-family:Arial;background:#000;color:#fff;padding:20px} .ok{color:#8f8} .fail{color:#f88}</style>
</head>
<body>
  <h1>Quick unit tests (no tooling)</h1>
  <div id="results"></div>
  <script>
    function safeId(name){
      return String(name || '').trim().toLowerCase().replace(/[^a-z0-9_-]+/g,'-');
    }
    function isValidCardArray(arr){
      if(!Array.isArray(arr)) return false;
      return arr.every(c => c && typeof c === 'object' && typeof c.q === 'string' && typeof c.a === 'string');
    }

    const tests = [];

    tests.push(()=>{
      const v = safeId('Hello World! 123');
      return {name:'safeId basic', ok: v==='hello-world-123', got:v};
    });

    tests.push(()=>{
      const good = [{q:'Q', a:'A'},{q:'Q2', a:'A2'}];
      return {name:'isValidCardArray good', ok:isValidCardArray(good)};
    });

    tests.push(()=>{
      const bad = [{q:'Q'},{a:'A'},{q:1,a:2}, 'no'];
      return {name:'isValidCardArray bad', ok:!isValidCardArray(bad)};
    });

    const out = document.getElementById('results');
    tests.forEach((fn,i)=>{
      const res = fn();
      const el = document.createElement('div');
      el.className = res.ok ? 'ok' : 'fail';
      el.textContent = `${i+1}. ${res.name} — ${res.ok ? 'PASS' : 'FAIL'}${res.got? ' — got: '+res.got : ''}`;
      out.appendChild(el);
    });
  </script>
</body>
</html>